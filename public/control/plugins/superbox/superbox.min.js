!function (a) {
  a.fn.SuperBox = function (b) {
    var c = a('<div class="superbox-show"></div>'),
      d = a('<img src="" class="superbox-current-img"><div id="imgInfoBox" class="superbox-imageinfo inline-block"> <h1>Image Title</h1><span><p><em>http://imagelink.com/thisimage.jpg</em></p><p class="superbox-img-description">Image description</p><p><button class="btn btn-sm btn-primary edit_batton_photogalery" img-id="0">Редактировать</button> <button class="btn btn-default btn-sm hide_batton_photogalery" img-id="0" img-st="0">Скрыть</button> <button class="btn btn-danger btn-sm delete_batton_photogalery" ' +
        'data-toggle="modal"\n' +
        'data-target="#removePhoto" id_unit="0">Удалить</button></p></span> </div>'),
      e = a('<div class="superbox-close txt-color-white"><i class="fa fa-times fa-lg"></i></div>');
    c.append(d).append(e);
    a(".superbox-imageinfo");
    return this.each(function () {
      a(".superbox-list").click(function () {
        $this = a(this);
        var b = $this.find(".superbox-img"), e = b.data("img"), f = b.attr("alt") || "Без описания", g = e,
          id = b.attr("img-id") || 0,
          st = b.attr("img-st") || 0,
          h = b.attr("title") || "Изображение";
          d.attr("src", e), a(".superbox-list").removeClass("active"), $this.addClass("active"), d.find("em").text(g), d.find(">:first-child").html(h.replace(/\n/g, "<br />")),
          d.find(".superbox-img-description").html(f.replace(/\n/g, "<br />")),
          d.find(".edit_batton_photogalery").attr("img-id", id),
          d.find(".delete_batton_photogalery").attr("id_unit", id),
          d.find(".hide_batton_photogalery").attr("img-id", id),
          d.find(".hide_batton_photogalery").attr("img-st", st),
          0 == a(".superbox-current-img").css("opacity") && a(".superbox-current-img").animate({"opacity": 1}),
          a(this).next().hasClass("superbox-show") ? (c.is(":visible") && a(".superbox-list").removeClass("active"),
          c.toggle()) : (c.insertAfter(this).css("display", "block"),
          $this.addClass("active")) ;

        if(st < 1){
          $(".hide_batton_photogalery").html("Отобразить");
        }
        else{
          $(".hide_batton_photogalery").html("Скрыть");
        }

      }), a(".superbox").on("click", ".superbox-close", function () {
        a(".superbox-list").removeClass("active"), a(".superbox-current-img").animate({"opacity": 0}, 200, function () {
          a(".superbox-show").slideUp()
        })
      })

    })
  }
}(jQuery);


